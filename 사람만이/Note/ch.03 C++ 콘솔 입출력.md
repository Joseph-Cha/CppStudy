# 3강. C++ 콘솔 입출력

## 예제

```cpp
#include <iostream>

int main(void)
{
	std::cout << "Hello world\n"; // C언어에서는 출력의 대상에 따라 서식을 지정 -> C++에서는 불필요
	std::cout << "안녕하세요, " << "반가워요" << std::endl;
	
	int num = 20;
	std::cout << num << ' ' << 'A';
	std::cout << ' ' << 3.14 << std::endl;
	
	return 0;
}
```

### #include 문

- 새로운 C++ 표준 헤더
    - 컴파일러에 의해 파일로 mapping 될 수 있는 표준 식별자(s
    - tandard identifier)를 지정
        - 필요로 하는 prototypes과 definitions이 적절히 선언되었다는 것을 보증하는 표현
- 표준 헤더의 경우 확장자(.h)가 없고, std 네임스페이스 적시
    - C 헤더를 C++ 표준 헤더 형식으로 변환하는 방법
        - 헤더 이름 앞에 ‘c’추가, 뒤의 ‘.h’ 제거
        - 예: <string.h> → <cstring> (c 헤더 → c++ 헤더)
    - 실제로 C에서 사용하는 라이브러리를 사용할 일이 많지는 않다.
    - 가급적이면 C++에서 새롭게 제공되는 방법이 있으니 해당 방법대로 사용하는 것이 좋다.

## 컴파일/링크 과정

![Untitled](/resources/%EC%82%AC%EB%9E%8C%EB%A7%8C%EC%9D%B4/ch.03/1.png)

- 컴파일/링크 두 단계로 구성된 이유?
    - 다수의 소스 파일로 구성된 프로그램에서 변경되지 않은 소스 코드의 재컴파일을 방지하여 컴파일 효율성을 높이기 위해서
    - 즉, 하나의 소스 파일을 실행 파일로 만드는 것이라면 굳이 이렇게 만들지 않아도 되었을 것이다.
    - 하지만 보통은 하나의 실행 파일을 만들기 위해서 여러 소스 파일이 묶여서 구성된다.
    - 이때 하나의 소스 코드가 변경되었을 때 모든 소스 코드를 컴파일 하는 것이 아니라 업데이트된 소스 코드만 컴파일을 해서 이를 object 파일로 만든다면 링크 과정에서는 변경된 object 파일만 엮어 하나의 실행파일로 만들어 주면 되기 때문에 build 과정을 좀더 효율적으로 진행할 수 있게 된다.

## 입출력 스트림

- 스트림 객체
    - 정보를 생산하거나 소비하는 논리적 장치
- 입출력 스트림 객체
    - 입출력 시스템에 의해 물리적 장치와 연결됨
    - 물리적 장치가 다르더라도 같은 방식으로 동작
    - 특성이 다른 장치를 일관된 입출력 인터페이스로 사용
    - 입출력 스트림 클래스에 정의
        - <iostream> 포함을 통해 제공되는 istream / ostream 클래스

## #include <iostream>와 전처리기

![Untitled](/resources/%EC%82%AC%EB%9E%8C%EB%A7%8C%EC%9D%B4/ch.03/2.png)

- 전처리기 구간에서 #include에서 선언된 header 소스가 실제 소스로 포함되는 과정을 거치게 된다.

## C++ 콘솔 입출력

- <iostream>에 선언된 표준 입출력 스트림 객체
    - std::cout << 출력대상;
        - 출력 대상: 결과값을 갖는 표현식
    - std::cin >> 입력 대상;
        - 입력대상: L-value
    - 함수를 호출하는 방식이 아니라 객체에 특정 정보를 보내거나(<<) 받거나(>>)하는 방식을 사용하게 된다.
- 입출력 연산자
    - 스트림 삽입(출력) 연산자: <<
    - 스트림 추출(입력) 연산자: >>
    - 비트 연산자로도 사용되지만 표준 입출력 스트림 객체와 만나게 되면 입출력 연산자로 사용된다.
- 기존의 C 표준 입출력 함수들도 사용 가능

## 출력 스트림 객체의 특징

- 출력 데이터의 성격에 따라 자동으로 적절한 타입으로 출력됨
    - std::cout << “Hello”; → 문자열로 출력
    - std::cout << 3.14 → 실수로 출력
- 하나의 출력문에 중첩된 출력 연산자 사용으로 다중 출력 가능
    - std::cout << “Hello” < 3.14
- 개행 처리
    - ‘\n’ 혹은 std::endl 출력
    - std::endl의 경우 개행 문자를 출력 버퍼에 넣고 출력 버퍼를 강제로 비워두는 즉, 출력을 즉각적으로 실행하는 연산까지 수행한다.
    - 실제로 볼 때는 곧바로 어떤 방식을 사용하더라도 곧바로 출력이 되기 때문에 가시적으로는 큰 차이가 없다.

## 예제

```cpp
#include <iostream>

int main()
{
    std::cout << "### 사각형의 넓이를 구하는 프로그램 ###\n";

    std::cout << "너비를 입력하세요>>";
    int width;
    std::cin >> width; // 키보드로부터 너비를 읽어 width 변수에 저장

    std::cout << "높이를 입력하세요>>";
    int height;
    std::cin >> height;

    int area = width * height;
    std::cout << "사격형의 넓이는" << area << "입니다." << std::endl;

    return 0;
}
```

## 입력 스트림 객체의 특징

- 별도의 포맷 지정 없이 입력 가능
    - std::cin >> val1;
- 하나의 입력문에 중첩된 입력 연산자 사용
    - std::cin >> val1 >> val2;
- 문자열의 입력도 일관된 방법으로 가능
    - char str[100];
        - std::cin >> str;
- 어떤 경우에도 주소연산자 & 사용 불필요

## 입력 버퍼를 통한 키 입력

![Untitled](/resources/%EC%82%AC%EB%9E%8C%EB%A7%8C%EC%9D%B4/ch.03/3.png)

- 입력 버퍼에 키를 쌓아두고 엔터 키를 눌렀을 때 입력 버퍼의 프로그램을 출력하게 된다.