# 6강. 포인터 주요 개념 정리

## 포인터(pointer)

- 어떤 다른 값이 저장되어 있는 메모리 주소를 가지고 있는 상수/변수(4byte)
    - int i를 선언하게 되면 물리 메모리의 4바이트 공간을 확보한 후 변수 i의 값을 할당하게 되는데 이때 변수 i의 값이 1000번지부터 1003번지까지 할당되어 있다고 가정하면 1000번지에 대한 주소 값이 변수 i에 맵핑되어 사용이 된다.
    - i = 10을 할당하게 되면 1000번지부터 4바이트 공간에 10이라는 정수 상수 값을 32bit(4byte) 데이터로 코드화 되어 저장된다.
    - 하나의 변수를 선언했을 때 사용하는 자료형이라는 것은 그 변수가 담을 수 있는 데이터 타입을 기술하게 된다. 즉, 몇 바이트 공간이 할당할 것인지 또 할당되어진 공간을 어떤 식으로 코드화 해서 사용할 것인지를 지정해 준다.
    - 마찬가지로 정수형 포인터 변수 int *p를 선언했다고 한다면 p라는 변수도 i라는 변수와 마찬가지로 하나의 변수에 대한 식별자로서 일정한 메모리 공간이 할당되어지고 그 공간에 대한 시작 주소에 직접 맵핑이 되어지는데 여기서  우리 환경에서의 모든 포인터 변수는 기본적으로 4바이트 공간이 할당되어진다(정수형 포인터나 더블형 포인터나 상관 없이  하나의 주소값을 저장하기 위해서 4바이트 공간이 할당된다).
    - 특히 이런 정수형 포인터다라는 것은 하나의 주소를 저장하는데 그 주소에 가보면 정수가 있다는 것을 나타내기 때문에 반드시 이 주소 값은 정수형 변수에 대한 주소값만 집어넣을 수 있게 되는 것입니다.
    - 따라서 일반적으로 포인터 변수는 기존 변수에 대한 주소 연사자를 통해서 어떤 상대적인 주소값으로 초기화 해준다.
    - 즉, int* p = &i 와 같이 초기화가 가능하다. 이는 p라는 변수가 직접 맵핑하고 있는 1004번지에서 1007번지에다가 i의 주소값(1000번지)을 bit열로 코드화 해서 할당하게 된다.
    - 이로써 포인터 변수 p는 1000번라는 값을 가지고 있고 메모리 1000번지를 간접 참조할 수 있게 되어지는 가능성을 가지게 되는 것입니다.

## 기본적인 포인터 연산

- 예시
    
    ```cpp
    int x, y;
    int *p1, *p2;
    
    x = -42;
    y = 163;
    
    p1 = &x;
    p2 = &y;
    
    *p1 = 17;
    *p1 = *p2;
    
    p1 = p2;
    ```
    
    ![Untitled](/resources/%EC%82%AC%EB%9E%8C%EB%A7%8C%EC%9D%B4/ch.05/1.png)
    
- 왼쪽과 같이 변수들을 선언했을 때 오른쪽 이미지와 같이 4바이트 씩 메모리 공간을 할당하여 값을 저장할 수 있게 된다.
- x에 -42를 할당하고 y에 163을 할당하면 각 값을 이진 비트로 코드화 하여 앞서 확보한 메모리에 값을 쓰게 된다.
- 이어서 p1과 p2 포인터 변수에 각각 x와 y의 주소 값을 할당하게 되면 각각 1000번지라는 주소 값과 1004번지라는 주소 값을 할당하게 된다.
- 일반 변수와 포인터 변수와의 유일한 차이점은 포인터 변수는 간접 참조 연산을 수행할 수 있다라는 것입니다.
- 간접 참조 연산을 하지 않는 포인터는 정수형 변수와 같다라고 생각할 수 있다.
- 따라서 *p1 = 17이라는 연산을 수행하게 되면 p1의 메모리 값에 17을 저장하는 것이 아니라 p1이 간접 참조하고 있는 x 메모리에 17을 할당하게 된다.
- *p1 = *p2이라는 연산은 p2가 간접 참조하고 있는 y의 메모리 값 즉, 163을 p1이 간접 참조하고 있는 메모리 즉 x의 메모리에 할당한다는 의미이다.
- p1 = p2라는 연산은 p2 메모리에 저장되어 있는 주소 값을 p1에 저장한다는 의미이다.

## 포인터가 사용되는 경우

### 1. 포인터 매개변수

- 함수의 인수로 변수에 대한 주소값이 사용되어진 경우
    - 함수가 2개 이상의 값을 반환해야 할 때
    - 함수 인수로 큰 구조의 구조체 변수가 사용될 때
- 함수의 인수로 배열 이름이 사용되어진 경우
    - 배열의 요소들을 함수 내에서 접근하고자 할 때

### 2. 주소를 반환하는 함수

- 동적 메모리 할당 외